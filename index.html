<!DOCTYPE html>
<html>
  <head>
    <title>House</title>
    <script src="https://aframe.io/releases/0.7.1/aframe.min.js"></script>
    <link rel="stylesheet" type="text/css" href="styles.css" />
  </head>
  <body class="background">
    <script src="script.js"></script>

    <div class="map map-container">
      <img src="Assets/map.jpg" alt="map" class="map-image">
    </div>

    <div class="solution-house">
      <button onclick="changeVR()"></button>
    </div>

    <script>
      function changeVR(){
        
      }
    </script>

    <div class="house box-construct">
      <a-scene embedded>
        <a-assets>
          <a-asset-item id="blank" src="Assets/blank.glb"></a-asset-item>
          <a-asset-item id="front" src="Assets/front.glb"></a-asset-item>
          <a-asset-item id="back" src="Assets/back.glb"></a-asset-item>
          <a-asset-item id="left" src="Assets/left.glb"></a-asset-item>
          <a-asset-item id="right" src="Assets/right.glb"></a-asset-item>
          <a-asset-item id="top" src="Assets/top.glb"></a-asset-item>
        </a-assets>

        <!-- Original 2d house -->
        <a-entity click-to-replace id="back" gltf-model="#blank" position="0 2.35 -1.5"></a-entity>
        <a-entity click-to-replace id="bottom" gltf-model="#blank" position="0 1.85 -1.5"></a-entity>
        <a-entity click-to-replace id="left" gltf-model="#blank" position="-0.54 1.85 -1.5"></a-entity>
        <a-entity click-to-replace id="right" gltf-model="#blank" position="0.54 1.85 -1.5"></a-entity>
        <a-entity click-to-replace id="front" gltf-model="#blank" position="0 1.35 -1.5"></a-entity>
        <a-entity click-to-replace id="top" gltf-model="#blank" position="0 0.85 -1.5"></a-entity>
        <a-entity gltf-model="#solution" position="0 1 -2" drag-rotate-component visible="false"></a-entity>

        <a-entity cursor="rayOrigin:mouse"></a-entity>
        <a-camera position="0 0 0" look-controls="enabled:false"></a-camera>

      </a-scene>
    </div>

    <script>
      function showHouse() {
        for (const e of document.getElementsByClassName("house")) {
          e.style.visibility="visible";
        }
        for (const e of document.getElementsByClassName("house-solution")) {
          e.style.visibility="visible";
        }
        for (const e of document.getElementsByClassName("map")) {
          e.style.visibility="hidden";
        }
      }
    </script>

    <div class="textbox">
      <button class="map" onclick="showHouse()">Next</button>
      <p id="instruction">We'll start with my plan. Can you help us place the door first? 
         Interact with the finished house model to find where the door should 
         be, then click on the blueprint where you think it should be placed.</p>
    </div>

  </body>
</html>